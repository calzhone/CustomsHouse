<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="style.css">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700;800&display=swap" rel="stylesheet">
<style>
</style>
<script>

</script>
</head>
<div class="row">
  <h1>Boston Customs House</h1>
<!--   <h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque viverra tristique risus vitae mattis. Vivamus malesuada velit at dapibus aliquam. Nam mollis tellus non magna porttitor, in luctus leo lobortis. Vestibulum pulvinar sollicitudin diam. Proin id enim dictum, sodales neque sit amet, placerat enim. Mauris nec turpis congue, consectetur purus eu, pretium augue. Donec eleifend ex ac bibendum interdum. Maecenas eu tellus in ipsum sodales pulvinar. Cras quis accumsan libero. Sed at viverra ex. Morbi eget nunc porta, euismod arcu at, elementum velit. Pellentesque in lectus gravida, luctus risus nec, iaculis neque</h2> -->
 
</div>
<div class="scene">
  <div class="carousel">

    <div class="carousel__cell"> 
     <!-- Carousel 1  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="01_Column_1.jpg" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="01_Column_2.jpg" height="600px" width="600px">
        </div>
      </div>
    </div>

    <div class="carousel__cell">

     <!-- Carousel 2  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="2_Eagle_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="2_Eagle_2.png" height="600px" width="600px">
        </div>
      </div>

    </div>

    <div class="carousel__cell">
           <!-- Carousel 3  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="3_Foundations_1.jpg" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="3_Foundations_2.jpg" height="600px" width="600px">
        </div>
      </div>
    </div>

    <div class="carousel__cell">
           <!-- Carousel 4  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="4_Exterior Columns_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="4_Exterior Columns_2.png" height="600px" width="600px">
        </div>
      </div>
    </div>


    <div class="carousel__cell"><img src="test2.png" height="600px" width="600px"/></div>
    <div class="carousel__cell"><img src="test3.png" height="600px" width="600px"/></div>
    <div class="carousel__cell"><img src="test4.png" height="600px" width="600px"/></div>
    
    <div class="carousel__cell">
         <!-- Carousel 8  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="8_labor_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="8_labor_2.png" height="600px" width="600px">
        </div>
      </div>
    </div>


    <div class="carousel__cell">
     <!-- Carousel 9  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="9_Tools_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="9_Tools_2.png" height="600px" width="600px">
        </div>
      </div>
    </div>

    <div class="carousel__cell">
        <!-- Carousel 10  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="10_ Stone Transport_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="10_ Stone Transport_2.png" height="600px" width="600px">
        </div>
      </div>
    </div>


    <div class="carousel__cell">
        <!-- Carousel 11  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="11_Topo_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="11_Topo_2.png" height="600px" width="600px">
        </div>
    </div>
    </div>
    
    <div class="carousel__cell">

        <!-- Carousel 12  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="12_Water_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="12_Water_2.png" height="600px" width="600px">
        </div>
      </div>
    
    </div>
    <div class="carousel__cell">

        <!-- Carousel 13  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="13_Height_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="13_Height_2.png" height="600px" width="600px">
        </div>
      </div>
    
    </div>
    <div class="carousel__cell"><img src="test2.png" height="600px" width="600px"/></div>

    <div class="carousel__cell">
    <!-- Carousel 15  -->
      <div class="img-comp-container">
        <div class="img-comp-img">
          <img src="15_Quarry_1.png" height="600px" width="600px">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="15_Quarry_2.png" height="600px" width="600px">
        </div>
      </div>
    </div>

  </div>
</div>

<div class="carousel-options">

  <p>
    <button class="previous-button">Previous</button>
    <button class="next-button">Next</button>
  </p>

  <p>
    Orientation:
    <label>
      <input type="radio" name="orientation" value="horizontal" checked />
      horizontal
    </label>
    <label>
      <input type="radio" name="orientation" value="vertical" />
      vertical
    </label>
  </p>
</div>





<script>
  function initComparisons() {
  var x, i;
  /*find all elements with an "overlay" class:*/
  x = document.getElementsByClassName("img-comp-overlay");
  for (i = 0; i < x.length; i++) {
    /*once for each "overlay" element:
    pass the "overlay" element as a parameter when executing the compareImages function:*/
    compareImages(x[i]);
  }
  function compareImages(img) {
    var slider, img, clicked = 0, w, h;
    /*get the width and height of the img element*/
    w = img.offsetWidth;
    h = img.offsetHeight;
    /*set the width of the img element to 50%:*/
    img.style.width = (w / 2) + "px";
    /*create slider:*/
    slider = document.createElement("DIV");
    slider.setAttribute("class", "img-comp-slider");
    /*insert slider*/
    img.parentElement.insertBefore(slider, img);
    /*position the slider in the middle:*/
    slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
    slider.style.left = (w / 2) - (slider.offsetWidth / 2) + "px";

    // TODO: Add go left/go right/to show A/B/C, etc. Add new left div, rigght div, addEventListener, then move left,right. 
    /*execute a function when the mouse button is pressed:*/
    slider.addEventListener("mousedown", slideReady);
    /*and another function when the mouse button is released:*/ 
    window.addEventListener("mouseup", slideFinish);
    /*or touched (for touch screens:*/
    slider.addEventListener("touchstart", slideReady);
    /*and released (for touch screens:*/
    window.addEventListener("touchend", slideFinish);
    function slideReady(e) {
      /*prevent any other actions that may occur when moving over the image:*/
      if (e.cancelable) e.preventDefault();
      /*the slider is now clicked and ready to move:*/
      clicked = 1;
      /*execute a function when the slider is moved:*/
      window.addEventListener("mousemove", slideMove);
      window.addEventListener("touchmove", slideMove);
    }
    function slideFinish() {
      /*the slider is no longer clicked:*/
      clicked = 0;
    }
    function slideMove(e) {
      var pos;
      /*if the slider is no longer clicked, exit this function:*/
      if (clicked == 0) return false;
      /*get the cursor's x position:*/
      pos = getCursorPos(e)
      /*prevent the slider from being positioned outside the image:*/
      if (pos < 0) pos = 0;
      if (pos > w) pos = w;
      /*execute a function that will resize the overlay image according to the cursor:*/
      slide(pos);
    }
    function getCursorPos(e) {
      var a, x = 0;
      e = (e.changedTouches) ? e.changedTouches[0] : e;
      /*get the x positions of the image:*/
      a = img.getBoundingClientRect();
      /*calculate the cursor's x coordinate, relative to the image:*/
      x = e.pageX - a.left;
      /*consider any page scrolling:*/
      x = x - window.pageXOffset;
      return x;
    }
    function slide(x) {
      /*resize the image:*/
      img.style.width = x + "px";
      /*position the slider:*/
      slider.style.left = img.offsetWidth - (slider.offsetWidth / 2) + "px";
    }
  }

}

</script>
<script>
/*Execute a function that will execute an image compare function for each element with the img-comp-overlay class:*/
initComparisons();
</script>


<script>
var carousel = document.querySelector('.carousel');
var cells = carousel.querySelectorAll('.carousel__cell');
var cellCount; // cellCount set from cells-range input value
var selectedIndex = 0;
var cellWidth = carousel.offsetWidth;
var cellHeight = carousel.offsetHeight;
var isHorizontal = true;
var rotateFn = isHorizontal ? 'rotateY' : 'rotateX';
var radius, theta;
// console.log( cellWidth, cellHeight );

function rotateCarousel() {
  var angle = theta * selectedIndex * -1;
  carousel.style.transform = 'translateZ(' + -radius + 'px) ' + 
    rotateFn + '(' + angle + 'deg)';
}

var prevButton = document.querySelector('.previous-button');
prevButton.addEventListener( 'click', function() {
  selectedIndex--;
  rotateCarousel();
});

var nextButton = document.querySelector('.next-button');
nextButton.addEventListener( 'click', function() {
  selectedIndex++;
  rotateCarousel();
});





function changeCarousel() {
  cellCount = 15;
  theta = 360 / cellCount;
  var cellSize = isHorizontal ? cellWidth : cellHeight;
  radius = Math.round( ( cellSize / 2) / Math.tan( Math.PI / cellCount ) );
  for ( var i=0; i < cells.length; i++ ) {
    var cell = cells[i];
    if ( i < cellCount ) {
      // visible cell
      cell.style.opacity = 1;
      var cellAngle = theta * i;
      cell.style.transform = rotateFn + '(' + cellAngle + 'deg) translateZ(' + radius + 'px)';
    } else {
      // hidden cell
      cell.style.opacity = 0;
      cell.style.transform = 'none';
    }
  }

  rotateCarousel();
}

var orientationRadios = document.querySelectorAll('input[name="orientation"]');
( function() {
  for ( var i=0; i < orientationRadios.length; i++ ) {
    var radio = orientationRadios[i];
    radio.addEventListener( 'change', onOrientationChange );
  }
})();

function onOrientationChange() {
  var checkedRadio = document.querySelector('input[name="orientation"]:checked');
  isHorizontal = checkedRadio.value == 'horizontal';
  rotateFn = isHorizontal ? 'rotateY' : 'rotateX';
  changeCarousel();
}

// set initials
onOrientationChange();


    </script>
